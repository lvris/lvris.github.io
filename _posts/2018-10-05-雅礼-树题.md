---
layout: post
title:  "雅礼-树题"
date:   2018-10-05 20:06:54
categories: 算法
tags: 数据结构 树
mathjax: true
---
* content
{:toc}
雅礼集训期间讲的题目.

大概可以称之为: 树上开花)

要素过多tag打不下力.

<!-- more -->

### T1

树上操作：选择两个度数为1的点，把他们之间的距离累加入答案，再删除一个节点，求最优。

想法：DP，相当于没有上司的舞会。

---

先把直径拿出来，将直径外的点一个一个和直径中的某一个端点配对并删掉，最后删掉直径。

证明：先删一个直径外的点不劣于删直径上的点。

### T2

无向连通图，询问$u_i-v_i$的最短路长度。 $V,T\leq10^5 , E-V\leq20$

---

随便搞一颗生成树，非树边的端点标记为特殊点。

对于一个询问，如果只经过树边，结果显然，否则可以枚举经过的特殊点，（跑40遍Dijkstra)

### T3

点集S满足$\forall i,j\in S, dist(i, j)\leq k$则称为好的集合，求把叶节点分成好的集合数的最大值。规模$10^6$

---

选一个不是叶子的根，自底而上贪心。（这种叶节点一般都是贪心）

$f_p$表示p为根的字数内已完成的好的集合的数量，$g_p$表示未完成的集合中离p最远的叶子的距离。

首先将所有儿子的f求和，g排序：若$max(g_i+g_j)>k$，则将$max(g)$删掉，并fp++，不然$g_p=max(g)+1$。

## To be continued...

### T5

有点权，要求用节点构建二叉搜索树，满足有边相邻的两个节点点权互质。

---

### T6

给定一颗以1为根的树。

---

### T7

有点权的树，每次砍断一条边，次数任意，需要满足砍完后每个联通快的权值和均相等，求砍树方案数，规模$10^6$

---

### T8

给定一颗带边权的树，询问p，k的$\sum_{q|dis(p,q)\leq k}dis(q, p)$。

---

给定带点权的树，求p的子树中距离$p\leq k$的所有点权最小值。