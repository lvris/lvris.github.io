---
layout: post
title:  "雅礼-图题"
date:   2018-10-04 18:06:54
categories: 算法
tags: 图论 线性基 网络流
mathjax: true
---
* content
{:toc}
雅礼集训期间讲的图题. 

大概可以称之为: 图中世界)

要素过多tag打不下力.

<!-- more -->

### T1

给定一个$1\dots n$的排列，判断是否可能为一个bfs序。范围$2*10^5$

想法：统计度，则扩展出来的显然，自己写vis模拟bfs，普通暴力。

---

巧妙：对于每个节点，令其权值为在给定序列中的位置，然后正常bfs，出边访问顺讯按照权值从小到大，秒。

### T2

无向连通图有点权，要求给定边权，满足点权等于所有相连的边权和。

想法：似乎是个高斯消元，显然有$\sum Ew_i=Vw_i$

---

* 如果图是树，则方案唯一。
* 跑一颗生成树，则只有根节点不满足条件。
* 每一条非树边构成一个环，偶环对根节点无影响，奇环会使根节点发生2的权值变换。
### T3

有向带权图，经过一条边后会获得$Ew_i$的收益，之后$Ew_i=Ew_i/2$。求从1出发最大收益。

想法：先缩点，特殊处理权，显然环的权值是可以全部得到的，之后SPFA跑个最长路。

---

想法很好，跑最长路用dp/SPFA。

### T4

每个人只能坐在第$u_i/v_i$张椅子上，求有多少种方案满足没人坐在同一张椅子上。

想法：抽象为最小点覆盖，2要素显然，但是求的是方案种数，咋办呀？

---

椅子作为点，人作为边，我们依据联通快分步计数，在某个联通块中：

* E>V时，无解。

* E=v-1时，有v种方案（枚举每个点不放）。

* E=v时，有两种方案（某条边放法确定则唯一确定）。

### T5

无向带权图（V，E），有n个人，第i个人位于点$x_i$，一个人经过一条边需要花费边权的时间，求最短多久时间后有人的节点数$\geq m$。$n, V\leq500$

想法：跑个屁的最短路，题意理解错了，是“有人的节点数”。

---

Floyed+二分答案，每个人向能走到的节点连边，合法的条件就是最大匹配$\geq m$，跑二分图匹配。

### T6

一个竞赛图的度数集合是由该竞赛图中每个点的出度构成的集合。

给定一个集合{$a_i$}，判断是不是竞赛图的度数集合，找到满足条件中点数最少的竞赛图。$m,a_i\leq30$

---

引理：一个数列是竞赛图的度数集合，当且仅当排序后的序列$d_1\dots d_n$满足：

$$
\forall k<n, \sum_{i=1}^kdi\geq {k \choose 2} 且\sum_{i=1}^nd_i={n \choose 2}
$$
证明：显然$\forall S \in V，\sum_{i\in S} d_i \geq{|S| \choose 2}$。

由于${n \choose 2}=\sum_{i=1}^n \leq n*max(a_i)$，故n的大小是$O(max(a_i))$级别。

$f[i][j][sum]$表示考虑前i个元素，图已有j个点，度数之和为sum，转移时枚举下一个元素出现了几次。

### T7(x)

带权无向联通图，规模$10^5$，从1出发，每经过一条边就会异或上这条边的权值，求经过n时的最小花费。

---

假设s与t是两条1-n的路径，C是图的环集，t的权值一定可以通过s的权值异或上C中一些环的权值搞出来。

随便搞一颗生成树，设非树边构成的环集为D，C中环的权值都可以通过D中一些环的权值异或出来。

**于是只要求出D的线性基，随便搞一条路径在线性基上跑一下。**（？？？）

### T8(x)

一开始图中只有$(s,t)$，进行i次操作，每次操作选定一条边$(u,v)$添加一个点i与两条边$(u,i)$$(i,v)$。

知道结束后s，t之间的最小割是m，求有多少不同构的图满足条件，规模50。

---

我！@#￥%……联赛完了再说。

![2018-10-5-神仙网络流](C:\lrishu.github.io\pic\2018-10-5-神仙网络流.png)